<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Creator Pro Split Scene V4</title>

<style>
body {
font-family: Arial;
background:#0d1117;
color:white;
padding:15px;
}

textarea {
width:100%;
height:170px;
background:#161b22;
color:white;
border:1px solid #30363d;
border-radius:8px;
padding:10px;
}

select, button {
width:100%;
padding:12px;
margin-top:10px;
border:none;
border-radius:8px;
font-size:15px;
font-weight:bold;
}

select {
background:#161b22;
color:white;
border:1px solid #30363d;
}

button {
background:#238636;
color:white;
}

.box {
background:#161b22;
border:1px solid #30363d;
border-radius:8px;
padding:10px;
margin-top:12px;
}

.title {
font-weight:bold;
color:#58a6ff;
margin-bottom:5px;
}

.copyBtn {
margin-top:6px;
padding:8px;
background:#30363d;
border:none;
border-radius:6px;
color:white;
width:100%;
}
</style>
</head>

<body>

<h2>ðŸŽ¬ Creator Pro Split Scene V4</h2>

<textarea id="inputText" placeholder="Paste cerpen (pisahkan paragraf dengan ENTER)..."></textarea>

<select id="mode">
<option value="30">âš¡ Reels Cepat (30 detik)</option>
<option value="45" selected>ðŸ”¥ Viral Mode (45 detik)</option>
<option value="60">ðŸŽ¥ Story Mode (60 detik)</option>
</select>

<button onclick="generate()">GENERATE SCENE PRO</button>

<button onclick="copyAll()">ðŸ“‹ COPY ALL (CANVA)</button>

<div id="output"></div>

<script>
function generate(){

let text = document.getElementById("inputText").value.trim();
if(!text){
alert("Masukin cerpen dulu");
return;
}

let paras = text.split(/\n+/).filter(p => p.trim() !== "");

if(paras.length < 5){
alert("Minimal 5 paragraf");
return;
}

let mode = document.getElementById("mode").value;

let hook = paras[0];
let scene1 = paras.slice(1,3).join(" ");
let scene2 = paras.slice(3,5).join(" ");
let scene3 = paras.slice(5,7).join(" ");
let scene4 = paras.slice(7,9).join(" ");
let climax = paras.slice(9).join(" ");

let ctaText = (mode == "30") ? "LIKE kalau relate" :
              (mode == "45") ? "LANJUT PART 2?" :
              "FOLLOW buat lanjutannya";

let scenes = [
["ðŸ”¥ HOOK (3s)", hook],
["ðŸŽ¬ SCENE 1 (6s)", scene1],
["ðŸŽ¬ SCENE 2 (6s)", scene2],
["ðŸŽ¬ SCENE 3 (6s)", scene3],
["ðŸŽ¬ SCENE 4 (6s)", scene4],
["ðŸš€ CLIMAX (5s)", climax],
["ðŸ”” CTA (3s)", ctaText]
];

let html = "";

scenes.forEach((s,i)=>{
let formatted = formatTypewriter(s[1]);
html += `
<div class="box">
<div class="title">${s[0]}</div>
<div id="scene${i}">${formatted}</div>
<button class="copyBtn" onclick="copyScene('scene${i}')">COPY SCENE</button>
</div>
`;
});

document.getElementById("output").innerHTML = html;
}

function formatTypewriter(txt){
let words = txt.split(" ");
let lines = [];
let line = "";

words.forEach(word=>{
if((line + word).length > 28){
lines.push(line.trim());
line = word + " ";
}else{
line += word + " ";
}
});

lines.push(line.trim());

return lines.join("<br>");
}

function copyScene(id){
let el = document.getElementById(id);
let temp = document.createElement("textarea");
temp.value = el.innerText;
document.body.appendChild(temp);
temp.select();
document.execCommand("copy");
document.body.removeChild(temp);
alert("Scene copied");
}

function copyAll(){
let boxes = document.querySelectorAll("[id^='scene']");
let allText = "";
boxes.forEach((b,i)=>{
allText += "SLIDE " + (i+1) + "\n" + b.innerText + "\n\n";
});

let temp = document.createElement("textarea");
temp.value = allText;
document.body.appendChild(temp);
temp.select();
document.execCommand("copy");
document.body.removeChild(temp);

alert("ALL SCENE COPIED");
}
</script>

</body>
</html>
